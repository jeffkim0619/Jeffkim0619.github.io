import{_ as e,h as r,r as l,a,o as t,c as s,b as i,i as n,d as o,j as u,n as c,t as d,k as v}from"./index.93cd1991.js";const p={emits:["complete","prev-page"],setup(){const{emit:e}=r(),a=l(""),t=l(""),s=l(!1),i=l(!1),n=()=>{let e=/^([0-9]{4})([-])([0-9]{4})([-])([0-9]{4})([-])([0-9]{4})$/.test(a.value)||/^([0-9]{4})([\s])([0-9]{4})([\s])([0-9]{4})([\s])([0-9]{4})$/.test(a.value)||/^([0-9]{16})$/.test(a.value),r=a.value.replace(/ /gi,"").replace(/-/gi,"").split("").reverse(),l=0,n=0;for(let a=0;a<r.length;a++){const e=r[a];(a+1)%2==0?n+=o(e):l+=parseInt(e)}return""===a.value.trim()?(s.value=!0,t.value=v.errorMsg.NODATA,i.value=!1,!1):e?(l+n)%10!=0?(s.value=!0,i.value=!1,t.value=v.errorMsg.CARDNUMERROR,!1):(t.value="",!0):(s.value=!0,i.value=!0,t.value=v.errorMsg.HBERROR,!1)},o=e=>{let r=0;if(r=2*parseInt(e),r>=10){let e=r.toString().split("");r=parseInt(e[0])+parseInt(e[1])}return r};return{cardNum:a,errorMsg:t,isCardNmError:s,isError:i,complete:()=>{n()&&(e("complete",{formData:{cardNum:a.value}}),a.value="",t.value="",s.value=!1)},prevPage:()=>{e("prev-page",{pageIndex:2})}}}},m={class:"card"},g={class:"flex mt-5 align-items-center justify-content-center"},f={class:"h-16rem w-3"},N={class:"field grid"},x=i("label",{for:"cardNum",class:"col-fixed"},"Card Number",-1),y={class:"col"},C={class:"flex mt-5 align-items-center justify-content-center"},I={key:0},M={class:"error-text"},R=i("li",null,"자리 구분 없이 숫자만 사용하는 경우",-1),b=i("li",null,"네 자리씩 하이픈으로만 구분하는 경우",-1),k=i("li",null,"네 자리씩 공백으로만 구분하는 경우",-1),w={key:1,class:"error-text"},E={class:"grid grid-nogutter justify-content-between"};var h=e(p,[["render",function(e,r,l,v,p,h){const j=a("InputText"),D=a("Button");return t(),s("div",m,[i("div",g,[i("div",f,[n(" 카드 "),i("div",N,[x,i("div",y,[o(j,{modelValue:v.cardNum,"onUpdate:modelValue":r[0]||(r[0]=e=>v.cardNum=e),onKeyup:u(v.complete,["enter"]),class:c(["w-full",[{"p-invalid":v.isCardNmError}]])},null,8,["modelValue","onKeyup","class"])])]),n(" 카드 ")])]),i("div",C,[v.isError?(t(),s("div",I,[i("ul",M,[i("li",null,d(v.errorMsg),1),R,b,k])])):(t(),s("span",w,d(v.errorMsg),1))]),n(" foot "),i("div",E,[o(D,{label:"Back",onClick:r[1]||(r[1]=e=>v.prevPage()),icon:"pi pi-angle-left"}),o(D,{label:"Next",onClick:r[2]||(r[2]=e=>v.complete()),icon:"pi pi-angle-right","icon-pos":"right"})]),n(" foot ")])}],["__file","D:/2022/7.glowdayz/glowdayzOnlinetest/src/views/userInfomation/info/UserCard.vue"]]);export{h as default};
